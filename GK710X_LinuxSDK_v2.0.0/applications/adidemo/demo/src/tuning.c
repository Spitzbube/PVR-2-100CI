/*!
*****************************************************************************
** \file        e/adi/test/src/tuning.c
**
** \brief       ADI layer tuning test
**
** \attention   THIS SAMPLE CODE IS PROVIDED AS IS. GOKE MICROELECTRONICS
**               ACCEPTS NO RESPONSIBILITY OR LIABILITY FOR ANY ERRORS OR
**               OMMISSIONS
**
** (C) Copyright 2012-2013 by GOKE MICROELECTRONICS CO.,LTD
**
*****************************************************************************
*/
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <ctype.h>
#include <fcntl.h>
#include <unistd.h>
#include <sys/ioctl.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <errno.h>
#include <sys/epoll.h>


#include "shell.h"
#include "adi_types.h"
#include "adi_sys.h"
#include "adi_isp.h"
#include "tuning.h"


//*****************************************************************************
//*****************************************************************************
//** Local Defines
//*****************************************************************************
//*****************************************************************************

#define ADI_TEST_DEBUG_LEVEL    GADI_SYS_LOG_LEVLE_INFO

//*****************************************************************************
//*****************************************************************************
//** Local structures
//*****************************************************************************
//*****************************************************************************


//*****************************************************************************
//*****************************************************************************
//** Global Data
//*****************************************************************************
//*****************************************************************************
extern GADI_SYS_HandleT vencHandle  ;


//*****************************************************************************
//*****************************************************************************
//** Local Data
//*****************************************************************************
//*****************************************************************************


//*****************************************************************************
//*****************************************************************************
//** Local Functions Declaration
//*****************************************************************************
//*****************************************************************************

static GADI_ERR tuning_p_handle_cmd(int argc, char *argv[]);


//*****************************************************************************
//*****************************************************************************
//** API Functions
//*****************************************************************************
//*****************************************************************************
GADI_ERR tuning_register_testcase(void)
{

    GADI_ERR   retVal =  GADI_OK;
    (void)shell_registercommand (
        "tuning",
        tuning_p_handle_cmd,
        "tuning command",
        "---------------------------------------------------------------------\n"
        "tuning start   \n"
        "   brief : tuning server start.\n"
        "\n"
        "---------------------------------------------------------------------\n"
        "tuning stop \n"
        "   brief : tuning server stop.\n"
        "\n"
    );

    return retVal;
}

static GADI_ERR tuning_p_handle_cmd(int argc, char *argv[])
{
    GADI_ERR ret;

    if(argc == 2)
    {
        if(strcmp(argv[1], "start") == 0)
        {
            ret = gadi_isp_tuning_start();
            GADI_INFO("tuning server start:%d.\n", ret);
        }
        else if(strcmp(argv[1], "stop") == 0)
        {
            ret = gadi_isp_tuning_stop();
            GADI_INFO("tuning server stop:%d.\n", ret);
        }
        else
        {
            goto bad_parameter;
        }
    }
    else
    {
         goto bad_parameter;
    }

    return 0;

bad_parameter:
    return -1;
}




//*****************************************************************************
//*****************************************************************************
//** Local Functions
//*****************************************************************************
//*****************************************************************************




